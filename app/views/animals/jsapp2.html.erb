<h1>jsapp2 action</h1>
<p>JavaScriptで簡単なアプリ②</p>
<div class="border"></div>

<div class='m-4'>②スクロール操作アプリ</div>

<div class='dummy'></div>
<button type='button' class='moveToTop btn btn-primary'>上に戻る</button>

<!-- 「上に戻る」ボタンを画面下に固定するCSS -->
<style>
  .moveToTop {
    position: fixed;
    bottom: 20px;
    right: 20px;
    display: none;
  }
</style>

<!-- JavaScript処理 -->
<script>

  // JSでダミー用テキストを作る
  const dummyContent = document.querySelector('.dummy');
  for(let i = 0; i <= 2000; i++) {
    dummyContent.textContent += ` テキスト ${i} `;
  }

  // スクロールしたときに「上に戻る」ボタンを表示する(画面の半分を超えたら表示)
  window.addEventListener('scroll', function() {
    const button = document.querySelector('.moveToTop');
    if (window.scrollY >= document.body.clientHeight / 2) { // document.body.clienHeight でページ全体の高さを取得
      button.style.display = 'block';
    } else {
      button.style.display = 'none';
    }
  });

  // 「上に戻る」ボタンがクリックされた時にページ上部に戻る処理
  const button = document.querySelector('.moveToTop');
  button.addEventListener('click', function() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth',
    });
  });

</script>